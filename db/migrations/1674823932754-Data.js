module.exports = class Data1674823932754 {
    name = 'Data1674823932754'

    async up(db) {
        await db.query(`CREATE TABLE "metadata" ("id" character varying NOT NULL, "spec_name" text NOT NULL, "spec_version" integer, "block_height" integer NOT NULL, "block_hash" text NOT NULL, "hex" text NOT NULL, CONSTRAINT "PK_56b22355e89941b9792c04ab176" PRIMARY KEY ("id"))`)
        await db.query(`CREATE TABLE "call" ("id" character varying NOT NULL, "success" boolean NOT NULL, "error" jsonb, "origin" jsonb, "name" text NOT NULL, "args" jsonb, "pos" integer NOT NULL, "parent_id" character varying, "block_id" character varying, "extrinsic_id" character varying, CONSTRAINT "PK_2098af0169792a34f9cfdd39c47" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_11c1e76d5be8f04c472c4a05b9" ON "call" ("parent_id") `)
        await db.query(`CREATE INDEX "IDX_bd3f11fd4110d60ac8b96cd62f" ON "call" ("block_id") `)
        await db.query(`CREATE INDEX "IDX_dde30e4f2c6a80f9236bfdf259" ON "call" ("extrinsic_id") `)
        await db.query(`CREATE INDEX "IDX_8b212022b7428232091e2f8aa5" ON "call" ("name") `)
        await db.query(`CREATE TABLE "extrinsic" ("id" character varying NOT NULL, "index_in_block" integer NOT NULL, "version" integer NOT NULL, "signature" jsonb, "success" boolean NOT NULL, "error" jsonb, "fee" numeric, "tip" numeric, "hash" text NOT NULL, "pos" integer NOT NULL, "block_id" character varying, "call_id" character varying, CONSTRAINT "PK_80d7db0e4b1e83e30336bc76755" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_a3b99daba1259dab0dd040d4f7" ON "extrinsic" ("block_id") `)
        await db.query(`CREATE INDEX "IDX_824d47cc4b2cda726405aa507c" ON "extrinsic" ("call_id") `)
        await db.query(`CREATE INDEX "IDX_1f45de0713a55049009e8e8127" ON "extrinsic" ("hash") `)
        await db.query(`CREATE TABLE "event" ("id" character varying NOT NULL, "index_in_block" integer NOT NULL, "phase" text NOT NULL, "name" text NOT NULL, "args" jsonb, "pos" integer NOT NULL, "block_id" character varying, "extrinsic_id" character varying, "call_id" character varying, CONSTRAINT "PK_30c2f3bbaf6d34a55f8ae6e4614" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_2b0d35d675c4f99751855c4502" ON "event" ("block_id") `)
        await db.query(`CREATE INDEX "IDX_129efedcb305c80256db2d57a5" ON "event" ("extrinsic_id") `)
        await db.query(`CREATE INDEX "IDX_83cf1bd59aa4521ed882fa5145" ON "event" ("call_id") `)
        await db.query(`CREATE INDEX "IDX_b535fbe8ec6d832dde22065ebd" ON "event" ("name") `)
        await db.query(`CREATE TABLE "block" ("id" character varying NOT NULL, "height" integer NOT NULL, "hash" text NOT NULL, "parent_hash" text NOT NULL, "state_root" text NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "extrinsics_root" text, "validator" text, "spec_id" character varying, CONSTRAINT "PK_d0925763efb591c2e2ffb267572" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_bce676e2b005104ccb768495db" ON "block" ("height") `)
        await db.query(`CREATE INDEX "IDX_f8fba63d7965bfee9f304c487a" ON "block" ("hash") `)
        await db.query(`CREATE INDEX "IDX_5c67cbcf4960c1a39e5fe25e87" ON "block" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_a23312dd468620f7c33c9a4da8" ON "block" ("spec_id") `)
        await db.query(`CREATE INDEX "IDX_b7e2f8fe1384a2910825029dcb" ON "block" ("validator") `)
        await db.query(`CREATE TABLE "address" ("id" character varying NOT NULL, "ss58" text NOT NULL, "type" text, "label" text, CONSTRAINT "PK_d92de1f82754668b5f5f5dd4fd5" PRIMARY KEY ("id"))`)
        await db.query(`CREATE TABLE "balances_pallet" ("id" character varying NOT NULL, "name" text NOT NULL, "free_balance" numeric, "amount" numeric, "free" numeric, "reserved" numeric, "destination_status" text, "event_id" character varying, "account_id" character varying, "from_id" character varying, "to_id" character varying, "who_id" character varying, CONSTRAINT "PK_d661576dfafb468ead9b75d08d9" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_bbd6c876d85483e0055c931088" ON "balances_pallet" ("event_id") `)
        await db.query(`CREATE INDEX "IDX_a44bb14f7c38a1a199110e050b" ON "balances_pallet" ("name") `)
        await db.query(`CREATE INDEX "IDX_747756f9ce74f8172d326fc823" ON "balances_pallet" ("account_id") `)
        await db.query(`CREATE INDEX "IDX_bedb39300bf61989ef30d07d6f" ON "balances_pallet" ("from_id") `)
        await db.query(`CREATE INDEX "IDX_e5a3f47844ab91d7e9a27a1892" ON "balances_pallet" ("to_id") `)
        await db.query(`CREATE INDEX "IDX_d62e2154b2db725981301af073" ON "balances_pallet" ("who_id") `)
        await db.query(`CREATE TABLE "staking_pallet" ("id" character varying NOT NULL, "name" text NOT NULL, "era_index" integer, "validator_payout" numeric, "remainder" numeric, "amount" numeric, "slash_era" integer, "fraction" text, "session_index" integer, "prefs" text, "mode" text, "event_id" character varying, "stash_id" character varying, "staker_id" character varying, "validator_id" character varying, "nominator_id" character varying, "validator_stash_id" character varying, CONSTRAINT "PK_a763132cf2479d585a0f7acae89" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_f731a3996a6a9a86e45a21eb8e" ON "staking_pallet" ("event_id") `)
        await db.query(`CREATE INDEX "IDX_dd347795c58ffd7e6821651d19" ON "staking_pallet" ("name") `)
        await db.query(`CREATE INDEX "IDX_f6960b1560ab74fe19a53da840" ON "staking_pallet" ("stash_id") `)
        await db.query(`CREATE INDEX "IDX_fdfcd6c21fb2b6e2e6b370a30c" ON "staking_pallet" ("staker_id") `)
        await db.query(`CREATE INDEX "IDX_dd2ef0f098f7f66b6547f24dc8" ON "staking_pallet" ("validator_id") `)
        await db.query(`CREATE INDEX "IDX_1ed0ce25275200528552f61936" ON "staking_pallet" ("nominator_id") `)
        await db.query(`CREATE INDEX "IDX_4fb406016c7c2b12fb7147afec" ON "staking_pallet" ("validator_stash_id") `)
        await db.query(`CREATE TABLE "nomination_pools_pallet" ("id" character varying NOT NULL, "name" text NOT NULL, "pool_id" integer, "bonded" numeric, "joined" boolean, "payout" numeric, "balance" numeric, "points" numeric, "era" integer, "new_state" text, "event_id" character varying, "depositor_id" character varying, "member_id" character varying, "root_id" character varying, "state_toggler_id" character varying, "nominator_id" character varying, CONSTRAINT "PK_0e41bf289204ad18e575268e7bd" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_3a3da6d87dfc0bc9273ee540eb" ON "nomination_pools_pallet" ("event_id") `)
        await db.query(`CREATE INDEX "IDX_2f0d573cfc69fec6cb39a5909c" ON "nomination_pools_pallet" ("name") `)
        await db.query(`CREATE INDEX "IDX_06a0aaf9b95b0fbf9c50cfa1f0" ON "nomination_pools_pallet" ("depositor_id") `)
        await db.query(`CREATE INDEX "IDX_eb8d4481cbc9adcc4b7c7fe408" ON "nomination_pools_pallet" ("member_id") `)
        await db.query(`CREATE INDEX "IDX_4213e7a6491110c58a960725de" ON "nomination_pools_pallet" ("root_id") `)
        await db.query(`CREATE INDEX "IDX_146fb8104a4b9916e686bada63" ON "nomination_pools_pallet" ("state_toggler_id") `)
        await db.query(`CREATE INDEX "IDX_181321d5c75e3671734b1964fc" ON "nomination_pools_pallet" ("nominator_id") `)
        await db.query(`ALTER TABLE "call" ADD CONSTRAINT "FK_11c1e76d5be8f04c472c4a05b95" FOREIGN KEY ("parent_id") REFERENCES "call"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "call" ADD CONSTRAINT "FK_bd3f11fd4110d60ac8b96cd62f3" FOREIGN KEY ("block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "call" ADD CONSTRAINT "FK_dde30e4f2c6a80f9236bfdf2590" FOREIGN KEY ("extrinsic_id") REFERENCES "extrinsic"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "extrinsic" ADD CONSTRAINT "FK_a3b99daba1259dab0dd040d4f74" FOREIGN KEY ("block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "extrinsic" ADD CONSTRAINT "FK_824d47cc4b2cda726405aa507ca" FOREIGN KEY ("call_id") REFERENCES "call"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "event" ADD CONSTRAINT "FK_2b0d35d675c4f99751855c45021" FOREIGN KEY ("block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "event" ADD CONSTRAINT "FK_129efedcb305c80256db2d57a59" FOREIGN KEY ("extrinsic_id") REFERENCES "extrinsic"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "event" ADD CONSTRAINT "FK_83cf1bd59aa4521ed882fa51452" FOREIGN KEY ("call_id") REFERENCES "call"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "block" ADD CONSTRAINT "FK_a23312dd468620f7c33c9a4da88" FOREIGN KEY ("spec_id") REFERENCES "metadata"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "balances_pallet" ADD CONSTRAINT "FK_bbd6c876d85483e0055c9310885" FOREIGN KEY ("event_id") REFERENCES "event"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "balances_pallet" ADD CONSTRAINT "FK_747756f9ce74f8172d326fc823c" FOREIGN KEY ("account_id") REFERENCES "address"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "balances_pallet" ADD CONSTRAINT "FK_bedb39300bf61989ef30d07d6f3" FOREIGN KEY ("from_id") REFERENCES "address"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "balances_pallet" ADD CONSTRAINT "FK_e5a3f47844ab91d7e9a27a18923" FOREIGN KEY ("to_id") REFERENCES "address"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "balances_pallet" ADD CONSTRAINT "FK_d62e2154b2db725981301af0738" FOREIGN KEY ("who_id") REFERENCES "address"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "staking_pallet" ADD CONSTRAINT "FK_f731a3996a6a9a86e45a21eb8ea" FOREIGN KEY ("event_id") REFERENCES "event"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "staking_pallet" ADD CONSTRAINT "FK_f6960b1560ab74fe19a53da8405" FOREIGN KEY ("stash_id") REFERENCES "address"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "staking_pallet" ADD CONSTRAINT "FK_fdfcd6c21fb2b6e2e6b370a30c5" FOREIGN KEY ("staker_id") REFERENCES "address"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "staking_pallet" ADD CONSTRAINT "FK_dd2ef0f098f7f66b6547f24dc88" FOREIGN KEY ("validator_id") REFERENCES "address"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "staking_pallet" ADD CONSTRAINT "FK_1ed0ce25275200528552f619369" FOREIGN KEY ("nominator_id") REFERENCES "address"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "staking_pallet" ADD CONSTRAINT "FK_4fb406016c7c2b12fb7147afec7" FOREIGN KEY ("validator_stash_id") REFERENCES "address"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nomination_pools_pallet" ADD CONSTRAINT "FK_3a3da6d87dfc0bc9273ee540eb8" FOREIGN KEY ("event_id") REFERENCES "event"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nomination_pools_pallet" ADD CONSTRAINT "FK_06a0aaf9b95b0fbf9c50cfa1f02" FOREIGN KEY ("depositor_id") REFERENCES "address"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nomination_pools_pallet" ADD CONSTRAINT "FK_eb8d4481cbc9adcc4b7c7fe408a" FOREIGN KEY ("member_id") REFERENCES "address"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nomination_pools_pallet" ADD CONSTRAINT "FK_4213e7a6491110c58a960725de6" FOREIGN KEY ("root_id") REFERENCES "address"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nomination_pools_pallet" ADD CONSTRAINT "FK_146fb8104a4b9916e686bada63d" FOREIGN KEY ("state_toggler_id") REFERENCES "address"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nomination_pools_pallet" ADD CONSTRAINT "FK_181321d5c75e3671734b1964fc5" FOREIGN KEY ("nominator_id") REFERENCES "address"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    }

    async down(db) {
        await db.query(`DROP TABLE "metadata"`)
        await db.query(`DROP TABLE "call"`)
        await db.query(`DROP INDEX "public"."IDX_11c1e76d5be8f04c472c4a05b9"`)
        await db.query(`DROP INDEX "public"."IDX_bd3f11fd4110d60ac8b96cd62f"`)
        await db.query(`DROP INDEX "public"."IDX_dde30e4f2c6a80f9236bfdf259"`)
        await db.query(`DROP INDEX "public"."IDX_8b212022b7428232091e2f8aa5"`)
        await db.query(`DROP TABLE "extrinsic"`)
        await db.query(`DROP INDEX "public"."IDX_a3b99daba1259dab0dd040d4f7"`)
        await db.query(`DROP INDEX "public"."IDX_824d47cc4b2cda726405aa507c"`)
        await db.query(`DROP INDEX "public"."IDX_1f45de0713a55049009e8e8127"`)
        await db.query(`DROP TABLE "event"`)
        await db.query(`DROP INDEX "public"."IDX_2b0d35d675c4f99751855c4502"`)
        await db.query(`DROP INDEX "public"."IDX_129efedcb305c80256db2d57a5"`)
        await db.query(`DROP INDEX "public"."IDX_83cf1bd59aa4521ed882fa5145"`)
        await db.query(`DROP INDEX "public"."IDX_b535fbe8ec6d832dde22065ebd"`)
        await db.query(`DROP TABLE "block"`)
        await db.query(`DROP INDEX "public"."IDX_bce676e2b005104ccb768495db"`)
        await db.query(`DROP INDEX "public"."IDX_f8fba63d7965bfee9f304c487a"`)
        await db.query(`DROP INDEX "public"."IDX_5c67cbcf4960c1a39e5fe25e87"`)
        await db.query(`DROP INDEX "public"."IDX_a23312dd468620f7c33c9a4da8"`)
        await db.query(`DROP INDEX "public"."IDX_b7e2f8fe1384a2910825029dcb"`)
        await db.query(`DROP TABLE "address"`)
        await db.query(`DROP TABLE "balances_pallet"`)
        await db.query(`DROP INDEX "public"."IDX_bbd6c876d85483e0055c931088"`)
        await db.query(`DROP INDEX "public"."IDX_a44bb14f7c38a1a199110e050b"`)
        await db.query(`DROP INDEX "public"."IDX_747756f9ce74f8172d326fc823"`)
        await db.query(`DROP INDEX "public"."IDX_bedb39300bf61989ef30d07d6f"`)
        await db.query(`DROP INDEX "public"."IDX_e5a3f47844ab91d7e9a27a1892"`)
        await db.query(`DROP INDEX "public"."IDX_d62e2154b2db725981301af073"`)
        await db.query(`DROP TABLE "staking_pallet"`)
        await db.query(`DROP INDEX "public"."IDX_f731a3996a6a9a86e45a21eb8e"`)
        await db.query(`DROP INDEX "public"."IDX_dd347795c58ffd7e6821651d19"`)
        await db.query(`DROP INDEX "public"."IDX_f6960b1560ab74fe19a53da840"`)
        await db.query(`DROP INDEX "public"."IDX_fdfcd6c21fb2b6e2e6b370a30c"`)
        await db.query(`DROP INDEX "public"."IDX_dd2ef0f098f7f66b6547f24dc8"`)
        await db.query(`DROP INDEX "public"."IDX_1ed0ce25275200528552f61936"`)
        await db.query(`DROP INDEX "public"."IDX_4fb406016c7c2b12fb7147afec"`)
        await db.query(`DROP TABLE "nomination_pools_pallet"`)
        await db.query(`DROP INDEX "public"."IDX_3a3da6d87dfc0bc9273ee540eb"`)
        await db.query(`DROP INDEX "public"."IDX_2f0d573cfc69fec6cb39a5909c"`)
        await db.query(`DROP INDEX "public"."IDX_06a0aaf9b95b0fbf9c50cfa1f0"`)
        await db.query(`DROP INDEX "public"."IDX_eb8d4481cbc9adcc4b7c7fe408"`)
        await db.query(`DROP INDEX "public"."IDX_4213e7a6491110c58a960725de"`)
        await db.query(`DROP INDEX "public"."IDX_146fb8104a4b9916e686bada63"`)
        await db.query(`DROP INDEX "public"."IDX_181321d5c75e3671734b1964fc"`)
        await db.query(`ALTER TABLE "call" DROP CONSTRAINT "FK_11c1e76d5be8f04c472c4a05b95"`)
        await db.query(`ALTER TABLE "call" DROP CONSTRAINT "FK_bd3f11fd4110d60ac8b96cd62f3"`)
        await db.query(`ALTER TABLE "call" DROP CONSTRAINT "FK_dde30e4f2c6a80f9236bfdf2590"`)
        await db.query(`ALTER TABLE "extrinsic" DROP CONSTRAINT "FK_a3b99daba1259dab0dd040d4f74"`)
        await db.query(`ALTER TABLE "extrinsic" DROP CONSTRAINT "FK_824d47cc4b2cda726405aa507ca"`)
        await db.query(`ALTER TABLE "event" DROP CONSTRAINT "FK_2b0d35d675c4f99751855c45021"`)
        await db.query(`ALTER TABLE "event" DROP CONSTRAINT "FK_129efedcb305c80256db2d57a59"`)
        await db.query(`ALTER TABLE "event" DROP CONSTRAINT "FK_83cf1bd59aa4521ed882fa51452"`)
        await db.query(`ALTER TABLE "block" DROP CONSTRAINT "FK_a23312dd468620f7c33c9a4da88"`)
        await db.query(`ALTER TABLE "balances_pallet" DROP CONSTRAINT "FK_bbd6c876d85483e0055c9310885"`)
        await db.query(`ALTER TABLE "balances_pallet" DROP CONSTRAINT "FK_747756f9ce74f8172d326fc823c"`)
        await db.query(`ALTER TABLE "balances_pallet" DROP CONSTRAINT "FK_bedb39300bf61989ef30d07d6f3"`)
        await db.query(`ALTER TABLE "balances_pallet" DROP CONSTRAINT "FK_e5a3f47844ab91d7e9a27a18923"`)
        await db.query(`ALTER TABLE "balances_pallet" DROP CONSTRAINT "FK_d62e2154b2db725981301af0738"`)
        await db.query(`ALTER TABLE "staking_pallet" DROP CONSTRAINT "FK_f731a3996a6a9a86e45a21eb8ea"`)
        await db.query(`ALTER TABLE "staking_pallet" DROP CONSTRAINT "FK_f6960b1560ab74fe19a53da8405"`)
        await db.query(`ALTER TABLE "staking_pallet" DROP CONSTRAINT "FK_fdfcd6c21fb2b6e2e6b370a30c5"`)
        await db.query(`ALTER TABLE "staking_pallet" DROP CONSTRAINT "FK_dd2ef0f098f7f66b6547f24dc88"`)
        await db.query(`ALTER TABLE "staking_pallet" DROP CONSTRAINT "FK_1ed0ce25275200528552f619369"`)
        await db.query(`ALTER TABLE "staking_pallet" DROP CONSTRAINT "FK_4fb406016c7c2b12fb7147afec7"`)
        await db.query(`ALTER TABLE "nomination_pools_pallet" DROP CONSTRAINT "FK_3a3da6d87dfc0bc9273ee540eb8"`)
        await db.query(`ALTER TABLE "nomination_pools_pallet" DROP CONSTRAINT "FK_06a0aaf9b95b0fbf9c50cfa1f02"`)
        await db.query(`ALTER TABLE "nomination_pools_pallet" DROP CONSTRAINT "FK_eb8d4481cbc9adcc4b7c7fe408a"`)
        await db.query(`ALTER TABLE "nomination_pools_pallet" DROP CONSTRAINT "FK_4213e7a6491110c58a960725de6"`)
        await db.query(`ALTER TABLE "nomination_pools_pallet" DROP CONSTRAINT "FK_146fb8104a4b9916e686bada63d"`)
        await db.query(`ALTER TABLE "nomination_pools_pallet" DROP CONSTRAINT "FK_181321d5c75e3671734b1964fc5"`)
    }
}
