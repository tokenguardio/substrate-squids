type WasmContractAbi @entity {
  id: ID!
  dappName: String!
  abi: JSON!
  label: String
  fromBlock: BigInt
  addedBy: String
}

enum DappActivityType {
  call
  event
}

type DappActivity @entity {
  id: ID!
  callId: String! #powtorzenia
  extrinsic: SubstrateExtrinsic!
  extrinsicHash: String!
  blockNumber: Int!
  timestamp: DateTime! @index
  dappName: String! @index
  caller: String @index #powtorzenia
  contract: String! @index #call -> to, event -> emitujacy kontrakt
  success: Boolean @index #event -> zawsze true
  type: DappActivityType!
  name: String! @index
  value: BigInt #event --> null
  decodedArgs: JSON
}

type SubstrateExtrinsic @entity {
  id: ID!
  blockNumber: Int!
  extrinsicHash: String!
  timestamp: DateTime! @index
  fee: BigInt!
  tip: BigInt
  success: Boolean!
}
